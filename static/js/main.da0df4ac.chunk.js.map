{"version":3,"sources":["services/pixabayApi.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Modal/Modal.js","App.js","index.js"],"names":["pixabayApi","this","searchQuery","page","_searchQuery","newQuery","url","fetch","then","response","json","catch","err","console","log","ImageGalleryItem","item","className","src","webformatURL","alt","tags","largeImageURL","Button","handleClick","type","onClick","LoaderCircle","color","height","width","newPixabayApi","ImageGalery","state","searchResults","status","fetchImages","setState","prev","hits","prevProps","prevState","searchValue","props","resetPage","length","window","scrollTo","top","document","documentElement","scrollHeight","behavior","openModal","map","el","id","Component","Searchbar","value","handleInputChange","event","currentTarget","handleSubmite","preventDefault","getFormData","reset","onSubmit","autoComplete","autoFocus","placeholder","onChange","modalRoot","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","addEventListener","removeEventListener","createPortal","children","App","showModal","getSearchValues","toggleModal","dataset","nodeName","modalImg","large","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.da0df4ac.chunk.js","sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\r\nconst KEY = '23232157-ed61124855b6c79290677e8dc';\r\n\r\nexport class pixabayApi {\r\n  constructor() {\r\n    this.searchQuery = '';\r\n    this.page = 1;\r\n  }\r\n\r\n  get searchQuery() {\r\n    return this._searchQuery;\r\n  }\r\n\r\n  set searchQuery(newQuery) {\r\n    return (this._searchQuery = newQuery);\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n\r\n  fetchImages(searchQuery) {\r\n    const url = `${BASE_URL}?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=12&key=${KEY}`;\r\n\r\n    return fetch(url)\r\n      .then(response => response.json())\r\n      .then((this.page += 1))\r\n      .catch(err => console.log(err));\r\n  }\r\n}","import PropTypes from 'prop-types';\r\n\r\nexport default function ImageGalleryItem({ item }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        className=\"ImageGalleryItem-image\"\r\n        src={item.webformatURL}\r\n        alt={item.tags}\r\n        data-large={item.largeImageURL}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  item: PropTypes.object,\r\n};","import PropTypes from 'prop-types';\r\n\r\nexport default function Button({ handleClick }) {\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={handleClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  handleClick: PropTypes.func,\r\n};","import Loader from 'react-loader-spinner';\r\n\r\nexport default function LoaderCircle() {\r\n  return (\r\n    <div className=\"Loader\">\r\n      <Loader type=\"ThreeDots\" color=\"#303f9f\" height={80} width={80} />\r\n    </div>\r\n  );\r\n}","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\nimport { pixabayApi } from '../../services/pixabayApi';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport Button from '../Button';\r\nimport Loader from '../Loader';\r\n\r\nconst newPixabayApi = new pixabayApi();\r\n\r\nclass ImageGalery extends Component {\r\n  state = {\r\n    searchResults: [],\r\n    status: 'idle',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.searchValue !== this.props.searchValue) {\r\n      this.setState({ status: 'pending' });\r\n      newPixabayApi.resetPage();\r\n      newPixabayApi.searchQuery = this.props.searchValue;\r\n      newPixabayApi\r\n        .fetchImages()\r\n        .then(searchResults => {\r\n          this.setState({ searchResults: searchResults.hits, status: 'resolved' });\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          this.setState({ status: 'rejected' });\r\n        });\r\n    }\r\n    if (prevState.searchResults.length !== this.state.searchResults.length) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleClick = () => {\r\n    newPixabayApi\r\n      .fetchImages()\r\n      .then(searchResults => {\r\n        this.setState(prev => ({\r\n          searchResults: [...prev.searchResults, ...searchResults.hits],\r\n          status: 'resolved',\r\n        }));\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        this.setState({ status: 'rejected' });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { status, searchResults } = this.state;\r\n    const { handleClick } = this;\r\n    const { openModal } = this.props;\r\n\r\n    if (status === 'idle') {\r\n      return <div></div>;\r\n    }\r\n    if (status === 'pending') {\r\n      return <Loader />;\r\n    }\r\n    if (status === 'resolved') {\r\n      return (\r\n        <>\r\n          <ul className=\"ImageGallery\" onClick={openModal}>\r\n            {this.state.searchResults.map(el => (\r\n              <ImageGalleryItem key={el.id} item={el} />\r\n            ))}\r\n          </ul>\r\n          {searchResults.length !== 0 ? (\r\n            <Button handleClick={handleClick} />\r\n          ) : (\r\n            <p className=\"textNotification\">Sorry, I didn't find anything</p>\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n    if (status === 'regected') {\r\n      return <p className=\"textNotification\">Error!!!</p>;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageGalery;\r\n\r\nImageGalery.propTypes = {\r\n  searchValue: PropTypes.string,\r\n  openModal: PropTypes.func,\r\n};","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  handleInputChange = event => {\r\n    const { value } = event.currentTarget;\r\n    this.setState({ value });\r\n  };\r\n\r\n  handleSubmite = event => {\r\n    const { value } = this.state;\r\n    event.preventDefault();\r\n    this.props.getFormData(value);\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({\r\n      value: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    const { handleInputChange, handleSubmite } = this;\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={handleSubmite}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={value}\r\n            onChange={handleInputChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  getFormData: PropTypes.func,\r\n};","import PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport { Component } from 'react';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n};","import { Component } from 'react';\nimport './App.css';\nimport ImageGalery from './components/ImageGallery';\nimport Searchbar from './components/Searchbar/';\nimport Modal from './components/Modal/';\n\nclass App extends Component {\n  state = {\n    searchValue: ' ',\n    showModal: false,\n  };\n\n  getSearchValues = searchValue => this.setState({ searchValue });\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  openModal = e => {\n    const { dataset, nodeName } = e.target;\n\n    if (nodeName === 'IMG') {\n      this.setState(({ showModal }) => ({\n        modalImg: dataset.large,\n        showModal: !showModal,\n      }));\n    }\n  };\n\n  render() {\n    const { searchValue, showModal, modalImg } = this.state;\n    const { getSearchValues, toggleModal, openModal } = this;\n\n    return (\n      <div className=\"App\">\n        <Searchbar getFormData={getSearchValues} />\n        <ImageGalery searchValue={searchValue} openModal={openModal} />\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={modalImg} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);"],"sourceRoot":""}